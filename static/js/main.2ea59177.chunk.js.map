{"version":3,"sources":["components/Header.tsx","components/QuestionBox.tsx","components/Register.tsx","components/Unregister.tsx","components/Check.tsx","components/ShowQR.tsx","App.tsx","reportWebVitals.js","index.js"],"names":["Header","react_default","a","createElement","AppBar","position","className","Toolbar","href","color","InputBox","props","concat","FormControl","required","error","InputLabel","label","Input","Object","assign","id","register","pattern","FormHelperText","disabled","errorMessage","Fragment","SelectBox","Select","defaultValue","candidates","map","v","i","filter","MenuItem","value","key","Typography","Register","_useForm","useForm","handleSubmit","errors","formState","navigation","useNavigate","captchaRef","useRef","_useState","useState","_useState2","slicedToArray","availableTimeId","setAvailableTimeId","_useState3","_useState4","displayAlert","setDisplayAlert","_useState5","_useState6","alertSeverity","setAlertSeverity","_useState7","_useState8","alertMessage","setAlertMessage","useEffect","current","console","log","head","document","getElementsByTagName","script","async","type","src","process","appendChild","asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","fetch","then","response","json","responseJson","stop","onSubmit","_ref2","_callee2","data","token","requestOptions","_context2","student_grade","student_class","student_number","student_name","getValue","sent","method","headers","Content-Type","body","JSON","stringify","objectSpread","recaptcha_token","ok","status","alert","state","guest_id","name","guest_name","time","time_id","catch","_x","apply","this","arguments","student_number_candidates","toConsumableArray","Array","_","toString","Paper","elevation","QuestionBox_InputBox","QuestionBox_SelectBox","available","require_available","esm","sitekey","ref","Button","variant","onClick","Alert","severity","RegisterComp","align","dist","to","Unregister","_ref","Unregister_regeneratorRuntime","UnregisterComp","Check","Check_regeneratorRuntime","CheckComp","ShowQR","location","useLocation","canvas","setCanvas","canvasContext","setCanvasContext","ticketLoaded","setTicketLoaded","template_URLs","_useState9","_useState10","_useState11","_useState12","getElementById","width","height","context","getContext","ticket_template","Image","parseInt","onload","drawImage","FontFace","load","loadedFace","fonts","add","font","fillStyle","fillText","measureText","barcode_canvas","JsBarcode","fontSize","textMargin","displayValue","margin","setTimeout","style","base64","toDataURL","link","download","click","NavigationBanner","App","react_router_dist","path","element","App_NavigationBanner","ShowQR_ShowQR","reportWebVitals","onPerfEntry","Function","__webpack_require__","e","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","render","StrictMode","basename","App_App"],"mappings":"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","file":"static/js/main.2ea59177.chunk.js","sourcesContent":["import { AppBar, Toolbar } from '@mui/material'\nimport { Link } from 'react-router-dom'\nimport React from 'react'\n\nexport function Header() {\n\treturn (\n\t\t<AppBar position=\"static\" className=\"appbar\">\n\t\t\t<Toolbar>\n\t\t\t\t<a href=\"/ReservationSystem\" className=\"header\" color=\"white\">\n\t\t\t\t\t2022 筑駒文化祭入場予約フォーム特設サイト\n\t\t\t\t</a>\n\t\t\t</Toolbar>\n\t\t</AppBar>\n\t);\n}\n","import { FormControl, Input, InputLabel, Select, MenuItem, Typography, FormHelperText } from '@mui/material'\nimport { UseFormRegister } from 'react-hook-form'\nimport React from 'react'\nimport '../css/QuestionBox.css'\n\ninterface InputBoxProps {\n\tlabel: string,\n\tid: string,\n\tregister: any,\n\trequired: boolean,\n\tpattern?: RegExp,\n\tclassName?: string,\n\terror?: boolean,\n\terrorMessage?: string\n};\n\nexport const InputBox: React.FC<InputBoxProps> = (props: InputBoxProps) => {\n\treturn (\n\t\t<div className={`question-box input-box ${props.className}`}>\n\t\t\t<FormControl required={props.required} error={props.error}>\n\t\t\t\t<InputLabel>{props.label}</InputLabel>\n\t\t\t\t<Input id={props.id} {...props.register(props.id, { required: props.required, pattern: props.pattern || /.+/ })} />\n\t\t\t\t{\n\t\t\t\t\tprops.error ? <FormHelperText disabled={!props.error}>{props.errorMessage || \"入力してください\"}</FormHelperText> : <></>\n\t\t\t\t}\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n}\n\n\ninterface SelectBoxProps {\n\tlabel: string,\n\tid: string,\n\tregister: UseFormRegister<any>,\n\tcandidates: string[],\n\trequired: boolean,\n\trequire_available?: boolean\n\tavailable?: boolean[],\n\tclassName?: string,\n\terror?: boolean\n}\n\nexport const SelectBox: React.FC<SelectBoxProps> = (props: SelectBoxProps) => {\n\treturn (\n\t\t<div className={`question-box select-box ${props.className}`} >\n\t\t\t<FormControl required={props.required} error={props.error}>\n\t\t\t\t<InputLabel>{props.label}</InputLabel>\n\t\t\t\t<Select id={props.id} defaultValue={\"\"} {...props.register(props.id, { required: props.required })}>\n\t\t\t\t\t{\n\t\t\t\t\t\tprops.candidates.map((v, i): [string, number] => {\n\t\t\t\t\t\t\t/*if (props.available == undefined) {\n\t\t\t\t\t\t\t\tif (props.require_available != true) return [v, i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (props.available[i] == true) {*/\n\t\t\t\t\t\t\t\treturn [v, i];\n\t\t\t\t\t\t\t//}\n\t\t\t\t\t\t\treturn [\"\", -1];\n\t\t\t\t\t\t}).filter(v => {\n\t\t\t\t\t\t\treturn v[1] != -1;\n\t\t\t\t\t\t}).map(v =>\n\t\t\t\t\t\t\t<MenuItem value={v[1]} key={v[0]}>\n\t\t\t\t\t\t\t\t<Typography>{v[0]}</Typography>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</Select>\n\t\t\t\t{\n\t\t\t\t\tprops.error ? <FormHelperText disabled={!props.error}>選択してください</FormHelperText> : <></>\n\t\t\t\t}\n\t\t\t</FormControl>\n\t\t</div >\n\t)\n}","import React, { useState, useEffect, useRef } from 'react'\nimport { useNavigate, Link } from 'react-router-dom'\nimport ReCAPTCHA from 'react-google-recaptcha'\nimport { Button, Paper, Typography, Alert, AlertColor } from '@mui/material'\nimport { InputBox, SelectBox } from './QuestionBox'\nimport { SubmitHandler, useForm } from 'react-hook-form'\nimport \"../css/Form.css\"\n\ninterface RegisterInput {\n\tguest_name: string,\n\temail: string,\n\tphone: string,\n\ttime_id: Number,\n\tgender: Number,\n\tage: Number,\n\tguest_type: Number,\n\tstudent_grade?: Number | string,\n\tstudent_class?: Number | string,\n\tstudent_number?: Number | string,\n\tstudent_name?: string\n};\n\nexport function Register() {\n\tconst { register, handleSubmit, formState: { errors } } = useForm<RegisterInput>();\n\tconst navigation = useNavigate();\n\tconst captchaRef: React.LegacyRef<ReCAPTCHA> = useRef(null);\n\tconst [availableTimeId, setAvailableTimeId] = useState<boolean[]>();\n\tconst [displayAlert, setDisplayAlert] = useState<boolean>(false);\n\tconst [alertSeverity, setAlertSeverity] = useState<AlertColor>();\n\tconst [alertMessage, setAlertMessage] = useState<string>();\n\n\tuseEffect(() => {\n\t\tif (captchaRef.current) {\n\t\t\tconsole.log(\"kaage\");\n\t\t\tconst head = document.getElementsByTagName(\"head\")[0];\n\t\t\tconst script = document.createElement(\"script\");\n\t\t\tscript.async = true;\n\t\t\tscript.type = \"text/javascript\";\n\t\t\tscript.src = `https://www.google.com/recaptcha/api.js?render=${process.env.REACT_APP_RECAPTCHA_SITE_KEY || \"\"}`;\n\t\t\thead.appendChild(script);\n\t\t}\n\t\t(async () => {\n\t\t\tawait fetch(`${process.env.REACT_APP_BACKEND_URL}/check_available`)\n\t\t\t\t.then(response => response.json())\n\t\t\t\t.then(responseJson => setAvailableTimeId(responseJson))\n\t\t})();\n\t}, [])\n\n\tconst onSubmit: SubmitHandler<RegisterInput> = async (data: RegisterInput) => {\n\t\tif (captchaRef.current != null) {\n\t\t\tif (data.student_grade == \"\") delete data.student_grade;\n\t\t\tif (data.student_class == \"\") delete data.student_class;\n\t\t\tif (data.student_number == \"\") delete data.student_number;\n\t\t\tif (data.student_name == \"\") delete data.student_name;\n\t\t\tconsole.log(data);\n\t\t\tconst token = await captchaRef.current.getValue();\n\t\t\tconst requestOptions = {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify({ ...data, recaptcha_token: token })\n\t\t\t};\n\t\t\tconsole.log(requestOptions);\n\n\t\t\tawait fetch(`${process.env.REACT_APP_BACKEND_URL}/register`, requestOptions)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response.ok) return response.json();\n\t\t\t\t\telse if (response.status == 400) {\n\t\t\t\t\t\tsetDisplayAlert(true), setAlertSeverity(\"error\"), setAlertMessage(\"サーバーが理解できないリクエストが送信されました。入力事項を確認してください。\");\n\t\t\t\t\t}\n\t\t\t\t\telse if (response.status == 500) {\n\t\t\t\t\t\tsetDisplayAlert(true), setAlertSeverity(\"error\"), setAlertMessage(\"サーバーエラーです。しばらく経ってからもう一度お試しください。\");\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tsetDisplayAlert(true), setAlertSeverity(\"error\"), setAlertMessage(\"未知のエラーが発生しました。しばらく経ってからもう一度お試しください。\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(responseJson => {\n\t\t\t\t\talert(\"次の画面で、入場パスと申込 ID が表示されます。必ず入場パスをスクリーンショットなどで保存するか、申込 ID をメモしてからページを閉じてください。\");\n\t\t\t\t\tnavigation(`/showqr`, {\n\t\t\t\t\t\tstate: { id: responseJson.guest_id, name: data.guest_name, time: data.time_id, student_name: data.student_name }\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetDisplayAlert(true), setAlertSeverity(\"error\"), setAlertMessage(\"リクエストの送信中にエラーが発生しました。しばらく経ってからもう一度お試しください。\");\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t})\n\n\t\t}\n\t};\n\n\tconst time_candidates = [\"10/28(金) 9:30~\", \"10/28(金) 10:00~\", \"10/28(金) 10:30~\", \"10/28(金) 11:00~\",\n\t\t\"10/29(土) 9:30~\", \"10/29(土) 10:00~\", \"10/29(土) 10:30~\", \"10/29(土) 11:00~\",\n\t\t\"10/30(日) 9:30~\", \"10/30(日) 10:00~\", \"10/30(日) 10:30~\", \"10/30(日) 11:00~\"];\n\tconst gender_candidates = [\"男性\", \"女性\", \"回答しない\"];\n\tconst age_candidates = [\"未就学児\", \"小学生\", \"中学生\", \"10 代（上記以外）\", \"20 代\", \"30 代\", \"40 代\", \"50 代\", \"60 代以上\"];\n\tconst guest_type_candidates = [\"生徒家族\", \"OB\", \"一般\"];\n\tconst student_grade_candidates = [\"中 1\", \"中 2\", \"中 3\", \"高 1\", \"高 2\", \"高 3\"];\n\tconst student_class_candidates = [\"A\", \"B\", \"C\", \"D\", \"1\", \"2\", \"3\", \"4\"];\n\tconst student_number_candidates = [...Array(42)].map((_, i) => (i + 1).toString());\n\n\treturn (\n\t\t<Paper className=\"form-paper\" elevation={3}>\n\t\t\t<div className=\"form-box\">\n\t\t\t\t<InputBox label=\"氏名\" id=\"guest_name\" register={register} required={true} error={\"guest_name\" in errors} />\n\t\t\t\t<InputBox label=\"メールアドレス\" id=\"email\" register={register} required={true} pattern={/[\\w\\-._]+@[\\w\\-._]+\\.[A-Za-z]+/} error={\"email\" in errors} errorMessage={\"半角で正しいメールアドレスを入力してください\"} />\n\t\t\t\t<InputBox label=\"電話番号\" id=\"phone\" register={register} required={true} pattern={/[0-9\\-]+/} error={\"phone\" in errors} errorMessage=\"半角数字とハイフンのみで入力してください\" />\n\t\t\t\t<SelectBox label=\"希望の優先入場時間\" id=\"time_id\" register={register} candidates={time_candidates} required={true} error={\"time_id\" in errors} available={availableTimeId} require_available={true} />\n\t\t\t\t<Typography>以下のアンケートにもお答えください。今後の文化祭運営に活用させていただきます。</Typography>\n\t\t\t\t<SelectBox label=\"性別\" id=\"gender\" register={register} candidates={gender_candidates} required={true} error={\"gender\" in errors} />\n\t\t\t\t<SelectBox label=\"年齢\" id=\"age\" register={register} candidates={age_candidates} required={true} error={\"age\" in errors} />\n\t\t\t\t<SelectBox label=\"種別\" id=\"guest_type\" register={register} candidates={guest_type_candidates} required={true} error={\"guest_type\" in errors} />\n\t\t\t\t<Typography>生徒家族の方は、以下から生徒の情報を選択してください。兄弟がいる場合は、どちらの情報でも構いません。</Typography>\n\t\t\t\t<SelectBox className=\"student-info\" label=\"学年\" id=\"student_grade\" register={register} candidates={student_grade_candidates} required={false} />\n\t\t\t\t<SelectBox className=\"student-info\" label=\"クラス\" id=\"student_class\" register={register} candidates={student_class_candidates} required={false} />\n\t\t\t\t<SelectBox className=\"student-info\" label=\"番号\" id=\"student_number\" register={register} candidates={student_number_candidates} required={false} />\n\t\t\t\t<InputBox className=\"student-info\" label=\"生徒氏名\" id=\"student_name\" register={register} required={false} />\n\t\t\t\t<div className=\"send-button\">\n\t\t\t\t\t<ReCAPTCHA sitekey={process.env.REACT_APP_RECAPTCHA_SITE_KEY || \"\"} ref={captchaRef} />\n\t\t\t\t\t<Button variant=\"contained\" onClick={handleSubmit(onSubmit)}>送信</Button>\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tdisplayAlert ? <Alert severity={alertSeverity}>{alertMessage}</Alert> : <></>\n\t\t\t\t}\n\t\t\t</div>\n\t\t</Paper >\n\t);\n}\n\nexport function RegisterComp() {\n\treturn (\n\t\t<div className=\"form\">\n\t\t\t<Paper id=\"whole-paper\" elevation={3}>\n\t\t\t\t<p>2022 年度筑駒文化祭の入場予約フォームです。今年の文化祭は 10/28 (金) から 10/30 (日) の 3 日間開催し、1 日あたり上限を4000名としております。</p>\n\t\t\t\t<p>入場待機列の混雑緩和のため、開場の 9:30 から 30 分ごとに、1000 名ずつの枠を 4 つ設け、\n\t\t\t\t\t各枠の時間帯においては優先的に入場できるものとします。なお、ご予約された優先入場時間枠より早く入場することはできません。\n\t\t\t\t\tまた、ご予約された優先入場時間帯を過ぎた場合は優先的に入場することはできず、最後尾に並んでいただきます。\n\t\t\t\t\tただし、どの時間帯に入場しても、閉場時間まで校内に滞在可能です。</p>\n\t\t\t\t<p>各日・時間帯ごとに、上限人数に達し次第、申込受付を締め切らせていただきます。</p>\n\t\t\t\t<p>このフォームに関するお問い合わせは、すべて筑駒文化祭実行委員会 tkbunkasai(atmark)gmail.com までお願いします。（(atmark) を '@' で置き換えてください。）</p>\n\t\t\t\t<p>直接本校にご連絡されても対応できませんのでご了承ください。</p>\n\t\t\t\t<span className=\"to-right\"><p>筑波大学附属駒場中・高等学校　第 71 回文化祭実行委員会</p></span>\n\t\t\t\t<Typography align=\"left\" variant=\"h5\">⚠️注意事項</Typography>\n\t\t\t\t<p>・複数日にわたって予約しても構いません。その場合は、複数回この予約フォームからご予約ください。</p>\n\t\t\t\t<p>・優先入場時間帯を過ぎてご来場された場合は、ご来場された時間帯の枠の最後尾にお並びいただいて入場することができます。同一の方が同じ日に複数枠お申込みされるのはお止め下さい。</p>\n\t\t\t\t<p>・予約者と異なる方が来場することはできません。本人確認をする場合がありますので、身分証（学生証、運転免許証など）となるものをお持ちください。</p>\n\t\t\t\t<p>・3 歳以下のお子様は申込不要です。</p>\n\t\t\t\t<p>・本人がメールアドレスや電話番号を持っていない場合は、保護者等の代理人のものを使って構いません。</p>\n\t\t\t\t<p>・送信ボタンを押すと、次の画面で入場パスが表示されます。画面のスクリーンショットを保存するか、画面を印刷していただくようお願いします。</p>\n\t\t\t\t<p>・申込 ID は、予約の確認や予約後のキャンセルを行う際に必要になります。予約完了確認メールは送信されませんので、画面をとじてしまうと申込 ID はご確認できなくなります。画面をとじる前に、必ず申込 ID をメモしていただくようお願いいたします。</p>\n\t\t\t\t<p>・予約後のキャンセルは、<Link to=\"/unregister\">キャンセル用ページ</Link>から承ります。予約枠は限られていますので、来られない場合にはキャンセルへのご協力をお願いします。</p>\n\t\t\t</Paper>\n\t\t\t<Register />\n\t\t</div>\n\t)\n};","import React, { useState } from 'react'\nimport { Button, Paper, Alert, AlertColor } from '@mui/material'\nimport { InputBox } from './QuestionBox'\nimport { SubmitHandler, useForm } from 'react-hook-form'\nimport \"../css/Form.css\"\n\ninterface UnregisterInput {\n\tguest_id: string,\n\tphone: string\n}\n\nexport function Unregister() {\n\tconst { register, handleSubmit, formState: { errors } } = useForm<UnregisterInput>();\n\tconst [displayAlert, setDisplayAlert] = useState<boolean>(false);\n\tconst [alertSeverity, setAlertSeverity] = useState<AlertColor>();\n\tconst [alertMessage, setAlertMessage] = useState<string>();\n\n\tconst onSubmit: SubmitHandler<UnregisterInput> = async (data: UnregisterInput) => {\n\t\tconsole.log(data);\n\t\tconst requestOptions = {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify(data)\n\t\t};\n\t\tconsole.log(requestOptions);\n\n\t\tawait fetch(`${process.env.REACT_APP_BACKEND_URL}/unregister`, requestOptions)\n\t\t\t.then(response => {\n\t\t\t\tif (response.ok) {\n\t\t\t\t\tsetDisplayAlert(true), setAlertSeverity(\"success\"), setAlertMessage(\"キャンセルに成功しました。\");\n\t\t\t\t}\n\t\t\t\telse if (response.status == 400) {\n\t\t\t\t\tsetDisplayAlert(true), setAlertSeverity(\"error\"), setAlertMessage(\"サーバーが理解できないリクエストが送信されました。入力事項を確認してください。\");\n\t\t\t\t}\n\t\t\t\telse if (response.status == 404) {\n\t\t\t\t\tsetDisplayAlert(true), setAlertSeverity(\"error\"), setAlertMessage(\"既にキャンセル済みであるか、ID か電話番号が間違っています。\");\n\t\t\t\t}\n\t\t\t\telse if (response.status == 500) {\n\t\t\t\t\tsetDisplayAlert(true), setAlertSeverity(\"error\"), setAlertMessage(\"サーバーエラーです。しばらく経ってからもう一度お試しください。\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsetDisplayAlert(true), setAlertSeverity(\"error\"), setAlertMessage(\"未知のエラーが発生しました。しばらく経ってからもう一度お試しください。\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => console.error(error))\n\t};\n\n\treturn (\n\t\t<Paper className=\"form-paper\">\n\t\t\t<div className=\"form-box\">\n\t\t\t\t<InputBox label=\"申込 ID\" id=\"guest_id\" register={register} required={true} error={\"guest_id\" in errors} />\n\t\t\t\t<InputBox label=\"申込時の電話番号\" id=\"phone\" register={register} required={true} pattern={/[0-9\\-]+/} error={\"phone\" in errors} errorMessage=\"半角数字とハイフンのみで入力してください\" />\n\t\t\t\t<div className=\"send-button\">\n\t\t\t\t\t<Button variant=\"contained\" onClick={handleSubmit(onSubmit)}>送信</Button>\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tdisplayAlert ? <Alert severity={alertSeverity}>{alertMessage}</Alert> : <></>\n\t\t\t\t}\n\t\t\t</div>\n\t\t</Paper>\n\t)\n}\n\nexport function UnregisterComp() {\n\treturn (\n\t\t<div className=\"form\">\n\t\t\t<p>以下に ID と申込時の電話番号を入力すると、登録のキャンセルができます。入場枠は限られているため、来られなくなった場合は必ずキャンセルするようにしてください。</p>\n\t\t\t<p>円滑な文化祭の運営にご協力お願いします。</p>\n\t\t\t<hr />\n\t\t\t<Unregister />\n\t\t</div>\n\t)\n}","import React, { useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { Button, Paper, Alert, AlertColor } from '@mui/material'\nimport { InputBox } from './QuestionBox'\nimport { SubmitHandler, useForm } from 'react-hook-form'\nimport \"../css/Form.css\"\n\ninterface CheckInput {\n\tguest_id: string,\n\tphone: string\n}\n\nexport function Check() {\n\tconst { register, handleSubmit, formState: { errors } } = useForm<CheckInput>();\n\tconst [displayAlert, setDisplayAlert] = useState<boolean>(false);\n\tconst [alertSeverity, setAlertSeverity] = useState<AlertColor>();\n\tconst [alertMessage, setAlertMessage] = useState<string>();\n\tconst navigation = useNavigate();\n\n\tconst onSubmit: SubmitHandler<CheckInput> = async (data: CheckInput) => {\n\t\tconsole.log(data);\n\t\tconst requestOptions = {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify(data)\n\t\t};\n\t\tconsole.log(requestOptions);\n\n\t\tawait fetch(`${process.env.REACT_APP_BACKEND_URL}/check_id`, requestOptions)\n\t\t\t.then(response => {\n\t\t\t\tif (response.ok) {\n\t\t\t\t\tsetDisplayAlert(true), setAlertSeverity(\"success\"), setAlertMessage(\"取得に成功しました。\");\n\t\t\t\t\treturn response.json();\n\t\t\t\t}\n\t\t\t\telse if (response.status == 400) {\n\t\t\t\t\tsetDisplayAlert(true), setAlertSeverity(\"error\"), setAlertMessage(\"サーバーが理解できないリクエストが送信されました。入力事項を確認してください。\");\n\t\t\t\t}\n\t\t\t\telse if (response.status == 404) {\n\t\t\t\t\tsetDisplayAlert(true), setAlertSeverity(\"error\"), setAlertMessage(\"既にキャンセル済みであるか、ID か電話番号が間違っています。\");\n\t\t\t\t}\n\t\t\t\telse if (response.status == 500) {\n\t\t\t\t\tsetDisplayAlert(true), setAlertSeverity(\"error\"), setAlertMessage(\"サーバーエラーです。しばらく経ってからもう一度お試しください。\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsetDisplayAlert(true), setAlertSeverity(\"error\"), setAlertMessage(\"未知のエラーが発生しました。しばらく経ってからもう一度お試しください。\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(responseJson => navigation(`/showqr`, { state: { id: data.guest_id, name: responseJson.guest_name, time: responseJson.time_id } }))\n\t\t\t.catch(error => console.error(error))\n\t};\n\n\treturn (\n\t\t<Paper className=\"form-paper\">\n\t\t\t<div className=\"form-box\">\n\t\t\t\t<InputBox label=\"申込 ID\" id=\"guest_id\" register={register} required={true} error={\"guest_id\" in errors} />\n\t\t\t\t<InputBox label=\"申込時の電話番号\" id=\"phone\" register={register} required={true} pattern={/[0-9\\-]+/} error={\"phone\" in errors} errorMessage=\"半角数字とハイフンのみで入力してください\" />\n\t\t\t\t<div className=\"send-button\">\n\t\t\t\t\t<Button variant=\"contained\" onClick={handleSubmit(onSubmit)}>送信</Button>\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tdisplayAlert ? <Alert severity={alertSeverity}>{alertMessage}</Alert> : <></>\n\t\t\t\t}\n\t\t\t</div>\n\t\t</Paper>\n\t)\n}\n\nexport function CheckComp() {\n\treturn (\n\t\t<div className=\"form\">\n\t\t\t<p>以下に ID を入力すると、登録の情報を確認し、入場パスが表示できます。</p>\n\t\t\t<p>円滑な文化祭の運営にご協力お願いします。</p>\n\t\t\t<hr />\n\t\t\t<Check />\n\t\t</div>\n\t)\n}","import { Button } from '@mui/material'\nimport { useLocation } from 'react-router'\nimport { Link } from 'react-router-dom'\nimport React, { useEffect, useState } from 'react'\nimport JsBarcode from 'jsbarcode'\nimport '../css/ShowQR.css'\n\nexport function ShowQR() {\n\tconst location = useLocation();\n\tconst [canvas, setCanvas] = useState<HTMLCanvasElement>();\n\tconst [canvasContext, setCanvasContext] = useState<CanvasRenderingContext2D>();\n\tconst [ticketLoaded, setTicketLoaded] = useState<boolean>(false);\n\tconst template_URLs = [\"1A\", \"1B\", \"1C\", \"1D\", \"2A\", \"2B\", \"2C\", \"2D\", \"3A\", \"3B\", \"3C\", \"3D\"];\n\tconst [id, setId] = useState<string>(location.state.id);\n\tconst [time, setTime] = useState<string>(location.state.time);\n\tconst [name, setName] = useState<string>(location.state.name);\n\n\tuseEffect(() => {\n\t\tconsole.log(\"A\");\n\t\tsetCanvas(document.getElementById(\"ticket\") as HTMLCanvasElement);\n\t}, []);\n\tuseEffect(() => {\n\t\tconsole.log(\"B\");\n\t\tif (canvas) {\n\t\t\tcanvas.width = 1170, canvas.height = 2532;\n\t\t\tlet context = canvas.getContext(\"2d\");\n\t\t\tif (context) {\n\t\t\t\tsetCanvasContext(context);\n\t\t\t}\n\t\t}\n\t}, [canvas]);\n\tuseEffect(() => {\n\t\tconsole.log(\"C\");\n\t\tif (canvasContext) {\n\t\t\tconst ticket_template = new Image();\n\t\t\tticket_template.src = \"./ticket_templates/D\" + template_URLs[parseInt(time || \"0\")] + \".png\";\n\t\t\tticket_template.onload = () => {\n\t\t\t\tcanvasContext.drawImage(ticket_template, 0, 0, 1170, 2532);\n\t\t\t\tsetTicketLoaded(true);\n\t\t\t}\n\t\t}\n\t}, [canvasContext]);\n\tuseEffect(() => {\n\t\tconst fontFace = new FontFace('gennokaku-gothic', 'url(/SourceHanSansJP-Medium.woff)');\n\t\tfontFace.load().then(loadedFace => {\n\t\t\tdocument.fonts.add(loadedFace);\n\t\t}).then(() => {\n\t\t\tif (canvasContext) {\n\t\t\t\tcanvasContext.font = \"40pt 'gennokaku-gothic'\";\n\t\t\t\tcanvasContext.fillStyle = \"#2f3131\";\n\t\t\t\tcanvasContext.fillText(id, (1170 - canvasContext.measureText(id).width) / 2, 1617)\n\t\t\t\tcanvasContext.font = \"48pt 'gennokaku-gothic'\";\n\t\t\t\tcanvasContext.fillText(name || \"error\", 426, 2080);\n\t\t\t\tlet barcode_canvas = document.createElement(\"canvas\");\n\t\t\t\tJsBarcode(barcode_canvas, id, { width: 4.54, height: 220, fontSize: 35, textMargin: 30, displayValue: false, margin: 0 });\n\t\t\t\tconsole.log(barcode_canvas.width);\n\t\t\t\tconsole.log(barcode_canvas.height);\n\t\t\t\tcanvasContext.drawImage(barcode_canvas, 305.5, 1338);\n\t\t\t}\n\t\t})\n\t\tsetTimeout(() => {\n\t\t\tif (canvasContext) {\n\t\t\t\tcanvasContext.font = \"40pt 'gennokaku-gothic'\";\n\t\t\t\tcanvasContext.fillStyle = \"#2f3131\";\n\t\t\t\tcanvasContext.fillText(id, (1170 - canvasContext.measureText(id).width) / 2, 1617)\n\t\t\t\tcanvasContext.font = \"48pt 'gennokaku-gothic'\";\n\t\t\t\tcanvasContext.fillText(name || \"error\", 426, 2080);\n\t\t\t\tlet barcode_canvas = document.createElement(\"canvas\");\n\t\t\t\tJsBarcode(barcode_canvas, id, { width: 4.54, height: 220, fontSize: 35, textMargin: 30, displayValue: false, margin: 0 });\n\t\t\t\tconsole.log(barcode_canvas.width);\n\t\t\t\tconsole.log(barcode_canvas.height);\n\t\t\t\tcanvasContext.drawImage(barcode_canvas, 305.5, 1338);\n\t\t\t}\n\t\t}, 3000);\n\t}, [ticketLoaded]);\n\n\tconst save = () => {\n\t\tif (canvas) {\n\t\t\tconst base64 = canvas.toDataURL(\"image/png\");\n\t\t\tconst link = document.createElement(\"a\");\n\t\t\tlink.download = \"入場証.png\";\n\t\t\tlink.href = base64;\n\t\t\tlink.click();\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<p>入場予約が完了しました。</p>\n\t\t\t<p>ご入場の際は、以下の入場パスを受付にてご提示ください。この画面のスクリーンショットを保存するか、画面を印刷してお持ちください。</p>\n\t\t\t<p>下に表示されているダウンロードボタンを押すと、入場パスがファイルとしてダウンロードできます。</p>\n\t\t\t<p>入場パスに表示されている申込 ID は、予約の確認や予約後のキャンセルを行う際に必要になります。\n\t\t\t\t予約完了確認メールは送信されませんので、この画面を移動したり閉じてしまうと、申込 ID はご確認できなくなります。\n\t\t\t\t画面をとじる前に、必ず入場パスの申込 ID をメモしていただくようお願いいたします。</p>\n\t\t\t<p>ご予約の確認は、確認用ページにて申込 ID を入力すると確認できます。</p>\n\t\t\t<p>予約後のキャンセルは、<Link to=\"/unregister\">キャンセル用ページ</Link>から承ります。予約枠は限られていますので、来られない場合にはキャンセルへのご協力をお願いします。</p>\n\t\t\t<span className=\"to-right\"><p>筑波大学附属駒場中・高等学校　第 71 回文化祭実行委員会</p></span>\n\t\t\t<div className=\"warning\"><h2 style={{ color: \"red\" }}><span className=\"warning-span\">必ずバーコードの下の申込 ID を</span><span className=\"warning-span\">メモしてから</span><span className=\"warning-span\">このページを閉じる</span><span className=\"warning-span\">ようにしてください。</span></h2></div>\n\t\t\t<div id=\"ticket-div\">\n\t\t\t\t<Button id=\"save-button\" variant=\"contained\" onClick={save}>入場証をダウンロード</Button>\n\t\t\t\t<canvas id=\"ticket\" />\n\t\t\t</div>\n\t\t</>\n\t);\n}","import React from 'react'\nimport { Paper, Typography, Button } from '@mui/material'\nimport { Header } from './components/Header'\nimport { BrowserRouter as Router, Route, Routes, useNavigate } from 'react-router-dom'\nimport { RegisterComp } from './components/Register'\nimport { UnregisterComp } from './components/Unregister'\nimport { CheckComp } from './components/Check'\nimport { ShowQR } from './components/ShowQR'\nimport './App.css'\n\nconst NavigationBanner = () => {\n\tconst navigation = useNavigate();\n\treturn (\n\t\t<>\n\t\t\t<Button className=\"banner\" variant=\"contained\" color=\"warning\" onClick={() => { navigation(\"/unregister\"); }}>キャンセルはこちら</Button>\n\t\t\t<Button className=\"banner\" variant=\"contained\" color=\"success\" onClick={() => { navigation(\"/check\"); }}>入場パスの確認はこちら</Button>\n\t\t</>\n\t)\n}\n\nexport default function App() {\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Header />\n\t\t\t<Routes>\n\t\t\t\t<Route path=\"/\" element={<NavigationBanner />} />\n\t\t\t\t<Route path=\"/*\" element={<></>} />\n\t\t\t</Routes>\n\t\t\t<div className=\"main\">\n\t\t\t\t<Routes>\n\t\t\t\t\t<Route path=\"/\" element={<RegisterComp />} />\n\t\t\t\t\t<Route path=\"/showqr\" element={<ShowQR />} />\n\t\t\t\t\t<Route path=\"/unregister\" element={<UnregisterComp />} />\n\t\t\t\t\t<Route path=\"/check\" element={<CheckComp />} />\n\t\t\t\t</Routes>\n\t\t\t</div>\n\t\t</div>\n\t);\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport './index.css'\nimport App from './App.tsx'\nimport reportWebVitals from './reportWebVitals'\n\nconst ROUTER_BASENAME = process.env.NODE_ENV === 'development' ? '/' : '/ReservationSystem';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <Router basename={ROUTER_BASENAME}>\n      <App />\n    </Router>\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}